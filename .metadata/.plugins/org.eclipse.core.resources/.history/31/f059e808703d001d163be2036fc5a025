package employes;

import java.util.GregorianCalendar;
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;
import java.util.Calendar;
import java.util.Date;

public class Employes extends Personne {
	protected int salaire=0;
	protected Calendar dateEmplois;
	final protected static int AGE_MAX=65;
	final protected static int AGE_MIN=16;
	
	protected Employes(String leNom, String lePrenom, GregorianCalendar laDate, Adresse lAdresse, int salaire) {
		super(leNom, lePrenom, laDate, lAdresse);
		this.salaire=salaire;
		this.dateEmplois=Calendar.getInstance();
		
		// TODO Auto-generated constructor stub
	}
	
	static public void createEmploye(String leNom, String lePrenom, GregorianCalendar laDate, Adresse lAdresse, int salaire) {
		Calendar date_maintenant = Calendar.getInstance();
		int année_maintenant=date_maintenant.get(Calendar.YEAR);
		int mois_maintenant=date_maintenant.get(Calendar.MONTH);
		int jour_maintenant=date_maintenant.get(Calendar.DAY_OF_MONTH);
		
		if ((année_maintenant-laDate.get(Calendar.YEAR))==AGE_MIN) {
			if (mois_maintenant==laDate.get(Calendar.MONTH)) {
				if(jour_maintenant<laDate.get(Calendar.DAY_OF_MONTH)) {
					Employes employes=new Employes(leNom, lePrenom,  laDate,  lAdresse,  salaire);
				}
			else if (mois_maintenant>laDate.get(Calendar.MONTH)) {
					Employes employes=new Employes(leNom, lePrenom,  laDate,  lAdresse,  salaire);
				}
			}
			
		}
		else if ((année_maintenant-laDate.get(Calendar.YEAR))==AGE_MAX) {
			if (mois_maintenant==laDate.get(Calendar.MONTH)) {
				if(jour_maintenant>laDate.get(Calendar.DAY_OF_MONTH)) {
					Employes employes=new Employes(leNom, lePrenom,  laDate,  lAdresse,  salaire);
				}
			else if (mois_maintenant<laDate.get(Calendar.MONTH)) {
					Employes employes=new Employes(leNom, lePrenom,  laDate,  lAdresse,  salaire);
				}
			}
			
		}
		
	}
	public void augmenterLeSalaire(int pourcentage) {
		
		if (pourcentage>0){
			this.salaire=this.salaire+this.salaire*pourcentage/100;
		}
	}
	public int calculAnnuite() {
		Calendar date_maintenant = Calendar.getInstance();
		int année_maintenant=date_maintenant.get(Calendar.YEAR);
		return (année_maintenant-this.dateEmplois.get(Calendar.YEAR))+1;
	}
	

	
	

}
